{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "$id": "https://jaal.fi/schemas/node.json",
  "title": "JAAL 1.1 node",
  "description": "Generic data structure for an array cell, a list node, a tree node, and a graph node.",
  "type": "object",
  "properties": {
    "id": {
      "description": "A unique identifier for the node among all data structures.",
      "type": "string",
      "pattern": "^node[0-9]+$"
    },
    "key": {
      "description": "Primary data inside the node. This may be a reference to a graph, matrix, or node.",
      "type": "string"
    },
    "value": {
      "description": "Secondary data inside the node. This may be a reference to a graph, matrix, or node.",
      "oneOf": [
        { "type": "string" },
        { "$ref": "graph.json" },
        { "$ref": "matrix.json" },
        { "$ref": "node.json" }
      ]
    },
    "legend": {
      "description": "A text to be displayed aside the node.",
      "type": "string"
    },
    "style": {
      "description": "Graphical style of the node: a name of a style definition.",
      "type": "string"
    },
    "attr": {
      "description": "A generic attribute of the node.",
      "$ref": "attributeList.json"
    }
  },
  "required": ["id", "key"]
}
